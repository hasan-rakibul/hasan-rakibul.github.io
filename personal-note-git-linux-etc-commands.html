<!DOCTYPE html>
<html lang="en-au">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Personal note on git, Linux, etc. commands</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Personal note of anything (git, Linux, etc.) I would like to find out easily. git General commands git mv <current filename> <new filename (with..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Rakib Hasan</a></h1>
                <nav><ul>
                    <li><a href="/">./</a></li>
                    <li><a href="/research.html">research</a></li>
                    <li><a href="/publications.html">publications</a></li>
                    <li><a href="/teaching.html">teaching</a></li>
                    <li><a href="/services.html">services</a></li>
                    <li><a href="/people.html">people</a></li>
                    <li><a href="/links.html">links</a></li>
                    <li><a href="/blogs.html">blogs</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/personal-note-git-linux-etc-commands.html" rel="bookmark"
           title="Permalink to Personal note on git, Linux, etc. commands">Personal note on git, Linux, etc. commands</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-04-16T00:00:00+08:00">
                Published: Sun 16 April 2023
        </abbr>

        <!--         <address class="vcard author">
                By                         <a class="url fn" href="/author/rakib-hasan.html">Rakib Hasan</a>
        </address>
 -->
<!-- <p>In <a href="/category/blogs.html">blogs</a>.</p> -->

</footer><!-- /.post-info -->      <p>Personal note of anything (git, Linux, etc.) I would like to find out easily.</p>
<h1>git</h1>
<h2>General commands</h2>
<ul>
<li><code>git mv &lt;current filename&gt; &lt;new filename (with dir to move)&gt;</code>: move or rename file that is already tracked by git</li>
<li><code>git rm --cached &lt;file1&gt; &lt;dir/file2&gt;</code>: remove file1 and file2 from repository, especially required when <code>.gitignore</code> is updated to avoid tracking file1 and file2, which was earlier tracked and now on repository. This will NOT remove the file from the current local system. "Be aware to commit all your changes before, otherwise you will loose control on all the changed files" - <a href="https://stackoverflow.com/questions/1139762/ignore-files-that-have-already-been-committed-to-a-git-repository#comment1985104_1139797">Hoang Pham at SO</a></li>
</ul>
<h2>Working with branches</h2>
<ul>
<li><code>git branch</code>: list branches. The current branch is marked with an asterisk.</li>
<li><code>git stash</code>: save current changes to a stash. Mandatory when I want to switch to another branch without committing the current changes.</li>
<li><code>git stash list</code>: list all stashes</li>
<li><code>git stash apply</code>: apply the latest stash</li>
<li><code>git stash apply stash@{&lt;stash_number&gt;}</code>: apply a specific stash. The stash number can be found from <code>git stash list</code></li>
<li><code>git switch &lt;branch_name&gt;</code>: switch to a branch</li>
<li><code>git fetch &lt;origin&gt;</code>: fetch changes from remote repository, including all branches. After fetching, I can see the changes through <code>git log</code> command.</li>
<li><code>git merge &lt;orgin/another_branch&gt;</code>: merge changes from another branch to the current branch</li>
<li><code>git diff &lt;branch1&gt; &lt;branch2&gt;</code>: compare changes between two branches</li>
<li><code>git branch -d &lt;branch&gt;</code>: delete local branch. <code>-d</code> is for delete. <code>-D</code> is for force delete, without checking if the changes are merged or not.</li>
<li><code>git push &lt;origin&gt; -d &lt;branch&gt;</code>: delete remote branch</li>
</ul>
<h2>Fix local configuration after changing repo name</h2>
<ul>
<li><code>git remote -v</code> to check current repo name</li>
<li><code>git remote set-url origin git@github.com:&lt;username&gt;/&lt;new-repo-name&gt;.git</code>: update origin</li>
</ul>
<h2>Roll back to a specific commit after pushed to remote</h2>
<ul>
<li><code>git reset --hard &lt;commit-hash&gt;</code>: reset to a specific commit. Get the commit hash from <code>git log</code> or GitHub commit history</li>
<li><code>git push -f origin main</code>: force push to remote
Caution: This will remove all commits after the specified commit hash.</li>
</ul>
<h2>Conflict with git push/pull</h2>
<ul>
<li>Here's a <a href="https://stackoverflow.com/a/71774640">nice SO answer</a> that describe the merge options.</li>
<li>I had some remote commits that I didn't pull before commiting from local. As usual, the push failed as I haven't fetched the changes. Simple <code>git pull</code> wasn't successful. Rather, <code>git pull --rebase</code> worked. It pulls and rebases local commits on top of remote commits.</li>
</ul>
<h2>Migrating Repository with Commit History</h2>
<ul>
<li><a href="https://stackoverflow.com/a/17373088">This SO answer</a> is a good guide to migrate a repository with commit history:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>new_repo
git<span class="w"> </span>checkout<span class="w"> </span>main
git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>old_remote<span class="w"> </span>**url-of-old-repo**
git<span class="w"> </span>fetch<span class="w"> </span>old_remote
git<span class="w"> </span>merge<span class="w"> </span>old_remote/main<span class="w"> </span>--allow-unrelated-histories
git<span class="w"> </span>remote<span class="w"> </span>rm<span class="w"> </span>old_remote
</code></pre></div>

<h2>Configuring local machine to access (pull, push, etc.) GitHub private and public repositories.</h2>
<h3>Local machine &ndash; generate SSH key</h3>
<ul>
<li><a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent?platform=linux">Generating a new SSH key and adding it to the ssh-agent</a></li>
<li>Local machine &ndash; set global username and email</li>
</ul>
<div class="highlight"><pre><span></span><code>git config --global user.name &lt;NAME&gt;
git config --global user.email &lt;EMAIL&gt;
</code></pre></div>

<h3>GitHub &ndash; add local machine's SSH key</h3>
<ul>
<li><a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account?platform=linux">Adding a new SSH key to your GitHub account</a></li>
</ul>
<p>&nbsp;</p>
<h1>Linux</h1>
<ul>
<li><code>mkdir dir_name{01..12}</code>: create dir_name01, dir_name02 ... dir_name12 directories</li>
<li><code>du -sh [dir]</code>: disk usage summary in human readable form, optinally for a specific directory</li>
<li><code>du -h [dir] | sort -h</code>: disk usage in human readable form sorted, optinally for a specific directory</li>
<li><code>du -sh --inode [dir]</code>: disk inode usage summary in human readable form, optinally for a specific directory</li>
<li><code>curl -L -o &lt;filename.ext&gt; "https://drive.usercontent.google.com/download?id=xxxx&amp;export=download&amp;confirm=yes"</code>: download file from Google Drive</li>
<li><code>wget "&lt;anyone-sharable-link&gt;&amp;download=1" -O &lt;filename.ext&gt;</code>: download file from OneDrive. The link is the anyone-shareable link with <code>download=1</code> at the end.</li>
</ul>
<h2>Managing permissions</h2>
<ul>
<li><code>chmod u+x &lt;file&gt;</code>: add execute permission for <strong>user</strong></li>
<li><code>chmod [-R] g+rwx &lt;file[dir]&gt;</code>: add read, write, execute permission for <strong>group</strong></li>
<li><code>chmod [-R] o+rwx &lt;file[dir]&gt;</code>: add read, write, execute permission for <strong>others</strong></li>
<li><code>chmode [-R] a+rwx &lt;file[dir]&gt;</code>: add read, write, execute permission for <strong>all</strong></li>
<li><code>chmod [-R] g-rwx &lt;file[dir]&gt;</code>: remove read, write, execute permission for <strong>group</strong></li>
<li><code>chmod [-R] o-rwx &lt;file[dir}&gt;</code>: remove read, write, execute permission for <strong>others</strong></li>
</ul>
<p>&nbsp;</p>
<h1>LaTeX</h1>
<h2>VSCode/Cursor on Linux Platform</h2>
<p>VSCode extensions "LaTeX Workshop" can be used to compile LaTeX files with Ctrl+Alt+B or each save. Requirements:
1. LaTeX base
1. Install <code>latexmk</code> to automatically compile the file (If not installed, may get "Recipe terminated with fatal error: spawn latexmk ENOENT." error)
1. Packages, installing <code>-full</code> makes sure that all the packages are installed.</p>
<h3>OpenSUSE</h3>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>zypper<span class="w"> </span>install<span class="w"> </span>texlive-scheme-medium<span class="w"> </span><span class="c1"># can be -small or -full</span>
sudo<span class="w"> </span>zypper<span class="w"> </span>install<span class="w"> </span>texlive-latexmk-bin
</code></pre></div>

<h3>Ubuntu:</h3>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>texlive-latex-base<span class="w"> </span>texlive-latex-extra<span class="w"> </span><span class="c1"># need to check; haven&#39;t used Ubuntu for a while</span>
<span class="c1"># install latexmk</span>
</code></pre></div>

<h3>Resources</h3>
<ul>
<li><a href="https://paulwintz.com/latex-in-vscode/">Paul Wintz's blog on LaTeX in VSCode</a></li>
</ul>
<h2>Natbib-style citation in IEEE template</h2>
<p>I like the <code>\citep</code> and <code>\citet</code> commands to automatically mention author names. To use them in IEEE template, I need to add the following lines in the preamble:</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="na">[backend=biber,style=ieee,natbib=true,maxcitenames=2,mincitenames=1]</span><span class="nb">{</span>biblatex<span class="nb">}</span>
<span class="k">\renewcommand</span><span class="nb">{</span><span class="k">\bibfont</span><span class="nb">}{</span><span class="k">\footnotesize</span><span class="nb">}</span> <span class="c">% 8 pt as in template</span>
<span class="k">\addbibresource</span><span class="nb">{</span>&lt;bibfile&gt;.bib<span class="nb">}</span>
</code></pre></div>

<p>Further to enable <code>\IEEEtriggeratref{&lt;number&gt;}</code> to balance the reference list at last page, I need to add the following lines in the preamble according to <a href="https://tex.stackexchange.com/a/316282">this StackExchange answer</a>:</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>ifthen<span class="nb">}</span>

<span class="k">\makeatletter</span>
<span class="k">\newcounter</span><span class="nb">{</span>IEEE@bibentries<span class="nb">}</span>
<span class="k">\renewcommand\IEEEtriggeratref</span><span class="na">[1]</span><span class="nb">{</span><span class="c">%</span>
  <span class="k">\renewbibmacro</span><span class="nb">{</span>finentry<span class="nb">}{</span><span class="c">%</span>
    <span class="k">\stepcounter</span><span class="nb">{</span>IEEE@bibentries<span class="nb">}</span><span class="c">%</span>
    <span class="k">\ifthenelse</span><span class="nb">{</span><span class="k">\equal</span><span class="nb">{</span><span class="k">\value</span><span class="nb">{</span>IEEE@bibentries<span class="nb">}}{</span>#1<span class="nb">}}</span>
    <span class="nb">{</span><span class="k">\finentry\@IEEEtriggercmd</span><span class="nb">}</span>
    <span class="nb">{</span><span class="k">\finentry</span><span class="nb">}</span><span class="c">%</span>
  <span class="nb">}</span><span class="c">%</span>
<span class="nb">}</span>
<span class="k">\makeatother</span>
</code></pre></div>

<h2>LaTeX Error: Unicode character ÃÅ (U+0301)</h2>
<ul>
<li>Using XeLaTex would solve but sometimes we need to stick to pdfLaTeX</li>
<li>
<p>The main problem to locate the character since it usually exist in the bib file. An excellent hack, as suggested in <a href="https://tex.stackexchange.com/a/487565">this StackExchange answer</a>, is to print something strange in place of the character:</p>
<p>Put <code>\DeclareUnicodeCharacter{0301}{*************************************}</code> in the preamble (before <code>\begin{document}</code>) and find the asterisks on the pdf.</p>
<p>After locating it, the final fix in my case was replacing <code>\'\i</code> by <code>\'{i}</code></p>
</li>
</ul>
<h2>JFST Editorial Manager was not using bibtex/biber to compile *.bib file</h2>
<p>The solution is to link the <em>.bbl file, which is actually a compiled version of the </em>.bib file</p>
<ul>
<li>
<p><code>BibTeX</code> user: Access the <code>*.bbl</code> file and change the main <code>*.tex</code> file: Comment out <code>\bibliography{bib-file}</code> and place <code>&lt;contents from the .bbl file&gt;</code></p>
</li>
<li>
<p><code>BibLaTeX</code> user: For <code>biber</code> backend, the <a href="https://ctan.org/pkg/biblatex-readbbl?lang=en">biblatex-readbbl</a> package worked fine in Overleaf and local machine but not in the Editorial Manager. Just include <code>something.bbl</code> and change the main <code>tex</code> file: Comment out <code>\addbibresource{ref.bib}</code> and place <code>\usepackage[bblfile=something]{biblatex-readbbl}</code></p>
</li>
</ul>
<h2>Placing floats on top of floats-only page</h2>
<ul>
<li>By default, LaTeX places floats on the centre of floats-only page. As outlined in <a href="https://tex.stackexchange.com/a/28565">this StackExchange answer</a>, we can align the float to the top of the page by adding these in the preamble:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c">% if float page is single column</span>
<span class="k">\makeatletter</span>
<span class="k">\setlength</span><span class="nb">{</span><span class="k">\@fptop</span><span class="nb">}{</span>0pt<span class="nb">}</span>
<span class="k">\setlength</span><span class="nb">{</span><span class="k">\@fpbot</span><span class="nb">}{</span>0pt plus 1fil<span class="nb">}</span>
<span class="k">\makeatother</span>

<span class="c">% if float page is double column</span>
<span class="k">\makeatletter</span>
<span class="k">\setlength</span><span class="nb">{</span><span class="k">\@dblfptop</span><span class="nb">}{</span>0pt<span class="nb">}</span>
<span class="k">\setlength</span><span class="nb">{</span><span class="k">\@dblfpbot</span><span class="nb">}{</span>0pt plus 1fil<span class="nb">}</span>
<span class="k">\makeatother</span>
</code></pre></div>

<p>&nbsp;</p>
<h1>Python</h1>
<h2>No module named pip</h2>
<p>Install pip via apt:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>python3-pip
</code></pre></div>

<h2>Change default python version.</h2>
<p>Create alias. Inside <code>~/.bashrc</code> or if it is linked to <code>~/.bash_aliases</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nb">alias</span><span class="w"> </span><span class="nv">python3</span><span class="o">=</span><span class="s1">&#39;/usr/bin/python3.11&#39;</span>
</code></pre></div>

<ul>
<li>ImportError: cannot import name '_imaging' from 'PIL'</li>
</ul>
<p>Upgrade <code>Pillow</code>:</p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>Pillow
</code></pre></div>

<h2>Package installation failed due to setuptools (although setuptools&gt;40 was installed): 'ERROR: No matching distribution found for setuptools&gt;=40.8.0'. Randomly tried the following command and it worked:</h2>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>wheel
</code></pre></div>

<h2>uv</h2>
<p>It is faster than pip and pyenv, but the project approach (<code>uv init</code>) and installing package through uv (<code>uv add &lt;package&gt;</code> or <code>uv pip install &lt;package&gt;</code>) seems to be not smooth: it failed to install <code>kaleido</code>, was trying and failing to install <code>sentencepiece</code> while installing <code>transformers</code> (was trying to install <code>transformers[sentencepeice]</code>, not sure why), and install an outdated version of <code>flair</code> packages (details on this <a href="https://github.com/astral-sh/uv/issues/11726">GitHub Issue</a> I created). Overall it seems to me that it is not installing the latest package versions. Nevertheless, I liked the simplicity of creating a virtual environment and installing packages through pip (noted below). </p>
<div class="highlight"><pre><span></span><code>uv<span class="w"> </span>venv<span class="w"> </span><span class="c1"># create a virtual environment named .venv in the current directory</span>
<span class="nb">source</span><span class="w"> </span>.venv/bin/activate<span class="w"> </span><span class="c1"># activate the virtual environment</span>
python<span class="w"> </span>-m<span class="w"> </span>ensurepip<span class="w"> </span><span class="c1"># install pip as it was not installed by default</span>
python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>pip<span class="w"> </span><span class="c1"># upgrade pip</span>
python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>...<span class="w"> </span><span class="c1"># install packages</span>
</code></pre></div>

<p>I hope to try the full potential of <code>uv</code> in the future, once it is more matured.</p>
<div class="highlight"><pre><span></span><code>uv<span class="w"> </span>init<span class="w"> </span><span class="c1"># create a project with pyproject.toml, uv.lock, .gitignore and .python-version files</span>
uv<span class="w"> </span>add<span class="w"> </span>&lt;package&gt;<span class="w"> </span><span class="c1"># add a package to the project</span>
uv<span class="w"> </span>add<span class="w"> </span>-r<span class="w"> </span>&lt;*.txt<span class="w"> </span>or<span class="w"> </span>*.toml&gt;<span class="w"> </span><span class="c1"># also possible: uv pip install ..</span>
uv<span class="w"> </span>tree<span class="w"> </span><span class="c1"># show the dependency tree</span>
uv<span class="w"> </span>run<span class="w"> </span>&lt;script.py&gt;<span class="w"> </span><span class="c1"># run a script</span>
</code></pre></div>

<h2>Pyenv</h2>
<h3>Installation</h3>
<ul>
<li>According to <a href="https://github.com/pyenv/pyenv/wiki#suggested-build-environment">Pyenv wiki -- suggested build environment</a>, the following packages are required Ubuntu/Debian/Mint:</li>
</ul>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="p">;</span><span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>build-essential<span class="w"> </span>libssl-dev<span class="w"> </span>zlib1g-dev<span class="w"> </span><span class="se">\</span>
libbz2-dev<span class="w"> </span>libreadline-dev<span class="w"> </span>libsqlite3-dev<span class="w"> </span>curl<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
libncursesw5-dev<span class="w"> </span>xz-utils<span class="w"> </span>tk-dev<span class="w"> </span>libxml2-dev<span class="w"> </span>libxmlsec1-dev<span class="w"> </span>libffi-dev<span class="w"> </span>liblzma-dev
</code></pre></div>

<ul>
<li>Automatic installer: <code>curl https://pyenv.run | bash</code></li>
</ul>
<h3>Useful commands</h3>
<div class="highlight"><pre><span></span><code>pyenv<span class="w"> </span>install<span class="w"> </span>--list<span class="w"> </span><span class="c1"># list all available versions</span>
pyenv<span class="w"> </span>install<span class="w"> </span>&lt;version&gt;<span class="w"> </span><span class="c1"># install a specific version</span>
pyenv<span class="w"> </span>versions<span class="w"> </span><span class="c1"># list all installed versions</span>
pyenv<span class="w"> </span>which<span class="w"> </span>python<span class="w"> </span><span class="c1"># show the path of the current python</span>
pyenv<span class="w"> </span>global<span class="w"> </span>&lt;version&gt;<span class="w"> </span><span class="c1"># set a global version</span>
pyenv<span class="w"> </span>virtualenv<span class="w"> </span><span class="o">[</span>&lt;version&gt;<span class="o">]</span><span class="w"> </span>&lt;env_name&gt;<span class="w"> </span><span class="c1"># create a virtual environment</span>
pyenv<span class="w"> </span>activate<span class="w"> </span>&lt;env_name&gt;<span class="w"> </span><span class="c1"># activate the virtual environment</span>
</code></pre></div>

<h2>Python venv that comes with Python</h2>
<p>Inside your preferred directory (it's standard to name it as <code>.venv</code> directory):</p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>&lt;env_name&gt;
</code></pre></div>

<p>Pro tip: Make <code>include-system-site-packages = true</code> in <code>&lt;env_name&gt;/pyvenv.cfg</code> file to include system-wide packages available in the virtual envirorment as well</p>
<p>Activate virtual environment. (better: put this command in <code>~/.bashrc</code> if it's your default environment. Then you don't need to activate it everytime.)</p>
<div class="highlight"><pre><span></span><code><span class="nb">source</span><span class="w"> </span>&lt;target/directory/with/env_name&gt;/bin/activate
</code></pre></div>

<p>Or, if you don't need the environment everytime. You can activate in each terminal session using the same command above.</p>
<p>To deactivate the current environment:</p>
<div class="highlight"><pre><span></span><code>deactivate
</code></pre></div>

<h2>Configuring cache directory</h2>
<ul>
<li><code>pip</code>: Add <code>export XDG_CACHE_HOME=/&lt;target-dir&gt;</code> in <code>~/.bashrc</code></li>
<li><code>conda</code>: Add <code>conda config --add pkgs_dirs /&lt;target-dir&gt;</code> in <code>~/.bashrc</code></li>
<li>Alternatively, <code>conda config</code> will create a <code>.condarc</code> file in home directory. Open it, and add the following lines:</li>
</ul>
<div class="highlight"><pre><span></span><code>envs_dirs:
<span class="w">  </span>-<span class="w"> </span>/scratch2/&lt;ident&gt;/.conda/envs
pkgs_dirs:
<span class="w">  </span>-<span class="w"> </span>/scratch2/&lt;ident&gt;/.conda/pkgs
</code></pre></div>

<ul>
<li>Alternatively (<strong>better</strong>), create symbolic links to the target directory:</li>
</ul>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span>.cache<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/&lt;target-dir&gt;/.cache<span class="w"> </span><span class="nv">$HOME</span>/.cache
mkdir<span class="w"> </span>-p<span class="w"> </span>.local<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/&lt;target-dir&gt;/.local<span class="w"> </span><span class="nv">$HOME</span>/.local
mkdir<span class="w"> </span>-p<span class="w"> </span>.conda<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/&lt;target-dir&gt;/.conda<span class="w"> </span><span class="nv">$HOME</span>/.conda
</code></pre></div>

<h2>Install older version of Python (e.g., python3.9) in Ubuntu 22.04.3 LTS</h2>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>add-apt-repository<span class="w"> </span>ppa:deadsnakes/ppa
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>python3.9<span class="w"> </span>python3.9-venv<span class="w"> </span>python3.9-distutils
</code></pre></div>

<p>Normally, <code>python</code> command will point to the latest version. To point it to specific version, you can include the version (e.g., <code>python3.9</code>) in the command.</p>
<p>&nbsp;</p>
<h1>VS Code</h1>
<h2>Not finding virtual environment</h2>
<ul>
<li>As discussed in <a href="https://stackoverflow.com/a/68169595">this answer</a>, I need to go 'Select Interpreter' and can select the virtual environment through the file explorer.</li>
<li>Alternatively, as mentioned <a href="https://code.visualstudio.com/docs/python/environments">here</a>: 'Open the Command Palette (Ctrl+Shift+P) and enter Preferences: Open User Settings. Then set <code>python.defaultInterpreterPathInterpreter</code> to the path of the virtual environment.'</li>
</ul>
<h2>Connecting remote host through SSH</h2>
<ul>
<li>
<p>As discussed <a href="https://code.visualstudio.com/docs/remote/troubleshooting#_ssh-tips">here in VSCode</a>, I need to specify the public key in the remote host from my local PC. </p>
</li>
<li>
<p>If the local machine is a macOS or Linux, terminal:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">USER_AT_HOST</span><span class="o">=</span><span class="s2">&quot;your-user-name-on-host@hostname&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PUBKEYPATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/.ssh/id_ed25519.pub&quot;</span>

ssh-copy-id<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PUBKEYPATH</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$USER_AT_HOST</span><span class="s2">&quot;</span>
</code></pre></div>

<ul>
<li>If the local machine is Windows, PowerShell:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nv">$USER_AT_HOST</span><span class="o">=</span><span class="s2">&quot;your-user-name-on-host@hostname&quot;</span>
<span class="nv">$PUBKEYPATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">\.ssh\id_ed25519.pub&quot;</span>

<span class="nv">$pubKey</span><span class="o">=(</span>Get-Content<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PUBKEYPATH</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Out-String<span class="o">)</span><span class="p">;</span><span class="w"> </span>ssh<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$USER_AT_HOST</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;mkdir -p ~/.ssh &amp;&amp; chmod 700 ~/.ssh &amp;&amp; echo &#39;</span><span class="si">${</span><span class="nv">pubKey</span><span class="si">}</span><span class="s2">&#39; &gt;&gt; ~/.ssh/authorized_keys &amp;&amp; chmod 600 ~/.ssh/authorized_keys&quot;</span>
</code></pre></div>

<ul>
<li>Then I can connect to the remote host through SSH passphrase instead of the remote login password. Passphrase is associated with every SSH key when we generate the key.</li>
<li>Pretty convenient (it won't ask for a passphrase) if the passphrase is empty. To change SSH passphrase for a key, in PowerShell:</li>
</ul>
<div class="highlight"><pre><span></span><code>ssh-keygen<span class="w"> </span>-p
</code></pre></div>

<p>&nbsp;</p>
<h1>WSL</h1>
<h2>Ubuntu in WSL2 not starting up, both the Ubuntu terminal and VS Code</h2>
<ul>
<li>Restart the Ubuntu. In PowerShell:
    <code>bash
    wsl --shutdown</code></li>
</ul>
<p>&nbsp;</p>
<h1>SLURM commands</h1>
<div class="highlight"><pre><span></span><code>sbatch<span class="w"> </span>&lt;script.sh&gt;<span class="w"> </span><span class="c1"># to submit a job</span>
salloc<span class="w"> </span>--nodes<span class="o">=</span>&lt;n&gt;<span class="w"> </span>--cpus-per-task<span class="o">=</span>&lt;n&gt;<span class="w"> </span>--mem<span class="o">=</span>&lt;n&gt;GB<span class="w"> </span>--gres<span class="o">=</span>gpu:&lt;n&gt;<span class="w"> </span>--time<span class="o">=</span>&lt;hh:mm:ss&gt;<span class="w"> </span>--account<span class="o">=</span>&lt;id&gt;<span class="w"> </span><span class="c1"># get some allocation for interactive session</span>
ssh<span class="w"> </span>&lt;node&gt;<span class="w"> </span><span class="c1"># to connect to the allocated node</span>
sacct<span class="w"> </span><span class="c1"># to see the job history of the user for today</span>
sacct<span class="w"> </span>--starttime<span class="w"> </span>MMDD<span class="w"> </span><span class="c1"># MMDD is the month and day from which you want to see the job history</span>
seff<span class="w"> </span>&lt;jobid&gt;<span class="w"> </span><span class="c1"># to see the efficiency of resource utilisation for the job</span>
squeue<span class="w"> </span>-o<span class="w"> </span><span class="s2">&quot;%A %N&quot;</span><span class="w"> </span>-u<span class="w"> </span>user_name<span class="w"> </span><span class="c1"># to see the job id and node name of the user</span>
scontrol<span class="w"> </span>show<span class="w"> </span>job<span class="w"> </span>&lt;jobid&gt;<span class="w"> </span><span class="c1"># to see the details of the job, including the node name</span>
scontrol<span class="w"> </span>show<span class="w"> </span>job<span class="w"> </span>&lt;jobid&gt;<span class="w"> </span>-d<span class="w"> </span><span class="c1"># to see the detailed information of the job, including the **allocated GPU index**</span>
sacct<span class="w"> </span>--format<span class="o">=</span>JobID,JobName,Partition,Account,AllocCPUS,NodeList,State,ExitCode<span class="w"> </span><span class="c1"># sacct result, including the node list and other details provided in the format</span>
</code></pre></div>

<p>&nbsp;</p>
<h1>Rclone commands</h1>
<div class="highlight"><pre><span></span><code>rclone<span class="w"> </span>copy<span class="w"> </span>&lt;source&gt;<span class="w"> </span>&lt;destination&gt;<span class="w"> </span><span class="c1"># copy files from source to destination. It **will not delete** the files in destination that are not in source. It will **overwrite** the files in destination that are in source.</span>
rclone<span class="w"> </span>copy<span class="w"> </span>--ignore-existing<span class="w"> </span>&lt;source&gt;<span class="w"> </span>&lt;destination&gt;<span class="w"> </span><span class="c1"># Like above, but it **will not overwrite** the files in destination that are in source.</span>
rclone<span class="w"> </span>sync<span class="w"> </span>&lt;source&gt;<span class="w"> </span>&lt;destination&gt;<span class="w"> </span><span class="c1"># sync files from source to destination. It **will delete** the files in destination that are not in source.</span>
rclone<span class="w"> </span>ls<span class="w"> </span>&lt;remote&gt;:&lt;path&gt;<span class="w"> </span><span class="c1"># list files in the remote path. Just mention &lt;remote&gt;: if you want to list all files in the remote.</span>
rclone<span class="w"> </span>lsd<span class="w"> </span>&lt;remote&gt;:&lt;path&gt;<span class="w"> </span><span class="c1"># list directories in the remote path</span>
</code></pre></div>

<h2>Important flags</h2>
<div class="highlight"><pre><span></span><code>-v<span class="w"> </span><span class="c1"># INFO level logging</span>
-vv<span class="w"> </span><span class="c1"># DEBUG level logging</span>
--dry-run<span class="w"> </span><span class="c1"># simulate the command without actually doing it</span>
--progress<span class="w"> </span><span class="c1"># show progress of the command</span>
</code></pre></div>

<p>&nbsp;</p>
<h1>Good coding practices</h1>
<ul>
<li>Just like global variables are bad, interacting with config file (e.g., OmeConf) in the deep of the code is bad. Rather, config file should be accessed and parsed at the top of the code, like only in <strong>main</strong> function. Other functions should be explicit in terms of their inputs and outputs. </li>
</ul>
<p>&nbsp;</p>
<h1>Others</h1>
<h2>Change JupyerLab startup directory</h2>
<p>As discussed in <a href="https://stackoverflow.com/questions/35254852/how-to-change-the-jupyter-start-up-folder">this SO thread</a>:</p>
<ul>
<li><code>jupyter server --generate-config</code> will generate <code>jupyter_server_config.py</code> in <code>~/.jupyter/</code> directory</li>
<li>Uncomment/write <code>c.ServerApp.root_dir = &lt;/your/preferred/directory/&gt;</code></li>
</ul>
<h2>Ububtu WSL2 opens as root</h2>
<ul>
<li>As discussed <a href="https://www.reddit.com/r/Ubuntu/comments/x4xuek/ubuntu_has_started_defaulting_to_root_user_on/">here in Reddit</a>, I need to change the default user to my username. In PowerShell:</li>
</ul>
<div class="highlight"><pre><span></span><code>ubuntu<span class="w"> </span>config<span class="w"> </span>--default-user<span class="w"> </span>&lt;username&gt;
</code></pre></div>

<ul>
<li>The correct username can be found in <code>/etc/passwd</code></li>
</ul>
<h2>Zoom Recording</h2>
<ul>
<li>While sharing the screen, 'optimize for video clip' option creates black boxes at different parts of shared screen (maybe the idea is to create black box on Zoom software-related pop-ups, but maybe buggy as of Nov 23.). So, I should share the screen without this option.</li>
<li>If I minimise my video, it will not be recorded.</li>
</ul>
<h2>Convert pdf to image in Linux</h2>
<ul>
<li>As mentioned <a href="https://askubuntu.com/a/50180">here in askubuntu</a>: <code>pdftoppm input.pdf outputname [-png / -jpeg / etc.] -r &lt;resolution&gt;</code></li>
</ul>
<h2>Crop pdf</h2>
<ul>
<li><code>pdfcrop --margin '-left -top -right -bottom' --clip input.pdf output.pdf</code></li>
</ul>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>find me on</h2>
                        <ul>
                            <li><a href="https://scholar.google.com.au/citations?user=DuCQ8goAAAAJ&hl=en">Google Scholar</a></li>
                            <li><a href="https://orcid.org/0000-0003-2565-5321">ORCiD</a></li>
                            <li><a href="https://www.researchgate.net/profile/Md-Rakibul-Hasan-10">ReserchGate</a></li>
                            <li><a href="https://www.semanticscholar.org/author/2142425">Semantic Scholar</a></li>
                            <li><a href="https://dblp.org/pid/122/5190-1.html">dblp</a></li>
                            <li><a href="https://arxiv.org/a/hasan_m_1.html">arXiv</a></li>
                            <li><a href="https://aclanthology.org/people/m/md-rakibul-hasan/">ACL Anthology</a></li>
                            <li><a href="https://ieeexplore.ieee.org/author/37089195113">IEEE Xplore</a></li>
                            <li><a href="https://www.scopus.com/authid/detail.uri?authorId=57215341043">Scopus</a></li>
                            <li><a href="https://www.webofscience.com/wos/author/record/AFK-8839-2022">Web of Science</a></li>
                            <li><a href="https://www.linkedin.com/in/m-rakibul">LinkedIn</a></li>
                            <li><a href="https://github.com/hasan-rakibul">GitHub</a></li>
                            <li><a href="https://paperswithcode.com/search?q=author%3AMd+Rakibul+Hasan">Papers with Code</a></li>
                            <li><a href="https://staffportal.curtin.edu.au/staff/profile/view/rakib-hasan-8d2e4f83/">Curtin University</a></li>
                            <li><a href="https://www.bracu.ac.bd/about/people/md-rakibul-hasan">BRAC University</a></li>
                            <li><a href="mailto:Rakibul.Hasan@curtin.edu.au">E-mail</a></li>
                        </ul>
                </div><!-- /.blogroll -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                        &copy; 2022 &ndash; 2026 Rakib Hasan </br>
                        Proudly developed using <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <!-- <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p> -->
        </footer><!-- /#contentinfo -->



<!-- Added by RKBL to toggle BibTeX info and auto anchor tag on all pub list-->
<script>
        function generateId(entry) {
                // generating id for the toggle block
                return entry + "-bibtex";
        }

        function showBlock(blockId) {
                var codeBlock = document.getElementById(blockId);
                codeBlock.style.display = codeBlock.style.display === "block" ? "none" : "block";

                var button = document.getElementById(blockId+"-button"); <!--button ID is blockid-"button"-->
                button.classList.toggle("active");
        }

        // select all <li> elements
        var liElements = document.querySelectorAll('li[entry]');

        // iterate through <li> elements and set IDs
        liElements.forEach(function(li) {
                var entry = li.getAttribute('entry');

                if (entry) {

                        // create and set the anchor tag
                        var aElement = document.createElement('a');
                        aElement.name = entry;
                        li.insertBefore(aElement, li.firstChild);
                        // var aElement = li.querySelector('a');
                        
                        var preElement = li.querySelector('pre.toggle-block');

                        // if there is a preElement, set it's id
                        if (preElement) {
                                var blockId = generateId(entry);
                                preElement.id = blockId;
                        }
                }
        });
</script>

</body>
</html>